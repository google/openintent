{
  "$id": "https://raw.githubusercontent.com/google/openintent/folder_structure_updates/release/draft/models/wifi/openintent-wifi-accesspoint.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "representation of an access-point",
  "title": "access_point",
  "required": [
    "name"
  ],
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "unique name of access point."
    },
    "floorplan_name": {
      "type": "string",
      "description": "name of floorplan to which this access-point belongs."
    },
    "asset_tag": {
      "type": "string",
      "description": "Assigned asset tag"
    },
    "serial_number": {
      "type": "string",
      "description": "serial number of this access point."
    },
    "claim_code": {
      "type": "string",
      "description": "vendor registration or claim code."
    },
    "mac_address": {
      "type": "string",
      "description": "MAC Address of an access_point.  Should be described in the format: 01:23:45:67:89:0a where is is 2 characters seperated by colons and letters are lower case.\n"
    },
    "manufacturer": {
      "type": "string",
      "description": "the manufacturer name for this access point."
    },
    "model": {
      "type": "string",
      "description": "the model number of this particular access point"
    },
    "sku": {
      "type": "string",
      "description": "sku part number for this specific access-point."
    },
    "dot11_radios": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/$defs/dot11_radio"
      }
    },
    "ssids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "antennas": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/antenna"
      }
    },
    "antenna_type": {
      "type": "string",
      "description": "Describes if the antenna is integrated into the AP, or the AP is connectorized to allow for external antennas.\n",
      "enum": [
        "CONNECTORIZED",
        "INTEGRATED"
      ]
    },
    "regulatory_domain": {
      "type": "string"
    },
    "ethernet_ports": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "orientation": {
      "$ref": "#/$defs/orientation"
    },
    "coordinate_xyz": {
      "$ref": "#/$defs/coordinate_xyz"
    },
    "coordinate_lat_long": {
      "$ref": "#/$defs/coordinate_lat_long"
    }
  },
  "$defs": {
    "dot11_radio": {
      "type": "object",
      "description": "a dot11 radio object",
      "oneOf": [
        {
          "required": [
            "id",
            "band",
            "channel",
            "channel_width",
            "transmit_power"
          ]
        },
        {
          "required": [
            "id",
            "band",
            "channel",
            "channel_width",
            "transmit_eirp"
          ]
        }
      ],
      "properties": {
        "id": {
          "type": "integer",
          "description": "radio id if one is known"
        },
        "band": {
          "$ref": "#/$defs/frequency_bands"
        },
        "channel": {
          "type": "integer",
          "description": "channel based on 802.11ac notation (center channel). If the channel is non-contiguous, you will need to specify the secondary channel.\n"
        },
        "channel_width": {
          "$ref": "#/$defs/channel_width"
        },
        "secondary_channel": {
          "type": "integer",
          "description": "Secondary channel based on 802.11ac notation (center channel). Used with 80+80 and 160+160 channel width configurations to describe the secondary channel (not containing primary channel).\n"
        },
        "transmit_power": {
          "type": "integer",
          "description": "conducted, per-chain power."
        },
        "transmit_eirp": {
          "type": "number",
          "description": "EIRP, requires antenna gain to calculate"
        }
      }
    },
    "antenna": {
      "type": "object",
      "required": [
        "vendor",
        "model"
      ],
      "properties": {
        "vendor": {
          "type": "string"
        },
        "model": {
          "type": "string"
        },
        "antenna_type": {
          "type": "string",
          "description": "Indicateds if the antenna is classified as an omnidirectional or a directional antenna.\n",
          "enum": [
            "OMNIDIRECTIONAL",
            "DIRECTIONAL"
          ]
        },
        "bands": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "band": {
                "$ref": "#/$defs/frequency_bands"
              },
              "gain": {
                "type": "number",
                "description": "gain in dBi"
              }
            }
          }
        },
        "connectors": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/rf_connector"
          }
        },
        "orientation": {
          "$ref": "#/$defs/orientation"
        }
      }
    },
    "rf_connector": {
      "type": "object",
      "description": "Details about rf connectors that would be present on an antenna or Accesspoint.\n",
      "properties": {
        "connector_type": {
          "type": "string",
          "enum": [
            "RP_SMA",
            "RP_TNC",
            "SMA",
            "TNC",
            "Type-N"
          ]
        },
        "gender": {
          "type": "string",
          "description": "Describes the gender of the RF connector\n",
          "enum": [
            "CONNECTOR_MALE",
            "CONNECTOR_FEMALE"
          ]
        },
        "frequency_bands": {
          "type": "array",
          "items": "#/defs/frequency_bands"
        }
      }
    },
    "channel_width": {
      "type": "string",
      "description": "Represents channel width configurations as a string\n",
      "enum": [
        "20_MHz",
        "40_MHz",
        "80_MHz",
        "160_MHz",
        "320_MHz",
        "80+80_MHz",
        "160+160_MHz"
      ]
    },
    "coordinate_xyz": {
      "type": "object",
      "description": "A coordinate that references cartesian coordinates using x,y,z and/or a geospatial coordinate using lat/long\n",
      "required": [
        "x",
        "y",
        "unit"
      ],
      "properties": {
        "x": {
          "type": "number",
          "description": "coordinate in X dimension represented as a number",
          "minimum": 0
        },
        "y": {
          "type": "number",
          "description": "coordinate in Y dimension represented as a number",
          "minimum": 0
        },
        "z": {
          "type": "number",
          "description": "coordinate in Z dimension as height from floor represented as a number\n"
        },
        "unit": {
          "type": "string",
          "enum": [
            "feet",
            "pixels",
            "meters"
          ]
        }
      }
    },
    "coordinate_lat_long": {
      "type": "object",
      "description": "A coordinate that references geospatial coordinates using using lat/long and altitude\n",
      "required": [
        "latitude",
        "longitude"
      ],
      "properties": {
        "latitude": {
          "type": "number",
          "description": "Latitude expressed as ISO 6709 in degrees",
          "minimum": -90,
          "maximum": 90
        },
        "longitude": {
          "type": "number",
          "description": "Longitude expressed as ISO 6709 in degrees",
          "minimum": -180,
          "maximum": 180
        },
        "elevation": {
          "type": "number",
          "description": "height in meters above sea level"
        }
      }
    },
    "frequency_bands": {
      "type": "string",
      "description": "bands that an antenna or radio operates in.",
      "enum": [
        "FREQ_2.4GHZ",
        "FREQ_5GHZ",
        "FREQ_6GHZ"
      ]
    },
    "orientation": {
      "type": "object",
      "description": "Object that describes the orientation of an object.  All descriptions can be referenced as a plane in flight.\n",
      "properties": {
        "rotation": {
          "type": "number",
          "description": "Describes the rotation of the device in degrees where 0 is up on the floorplan orientation.  For omnidirectional APs, if looking at the AP on the ceiling, the direction points toward the top of the vendor logo.  For directional antennas/APs, the peak beamwidth should point in this direction.  AKA yaw.\n"
        },
        "tilt": {
          "type": "number",
          "description": "Describes the tilt of the device in degrees. For integrated antenna APs or omnidirectional antenna, 0 describes the default orientation.  For directional APs, 0 describes the antenna as pointed horizontal, with positive values tilting up, and negative values pointing down.  AKA pitch.\n"
        },
        "roll": {
          "type": "number",
          "description": "Describes the rotation of the device in axis of rotation/tilt. 0 describes the devices default orientation.  This will normally be zero in most scenarios.  Would be used to rotate and antenna from vertical to horizontal polarization.  AKA roll.\n"
        }
      }
    }
  }
}
