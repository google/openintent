---
$schema: https://json-schema.org/draft/2020-12/schema
description: representation of an access-point
title: accesspoint
required:
    - name
type: object
properties:
    name:
        type: string
        description: unique name of access point.
    floorplan_name:
        type: string
        description: name of floorplan to which this access-point belongs.
    asset_tag:
        type: string
        description: Assigned asset tag
    serial_number:
        type: string
        description: serial number of this access point.
    mac_address:
        type: string
        description: >
            MAC Address of an accesspoint.  Should be described in the format:
            01:23:45:67:89:0a where is is 2 characters seperated by colons and
            letters are lower case.
    manufacturer:
        type: string
        description: the manufacturer name for this access point.
    model:
        type: string
        description: the model number of this particular access point
    sku:
        type: string
        description: sku part number for this specific access-point.
    dot11_radios:
        type: array
        minItems: 1
        items:
            $ref: "#/definitions/dot11_radio"
    ssids:
        type: array
        items:
            type: string
    antennas:
        type: array
        items:
            $ref: "#/definitions/antenna"
    regulatory_domain:
        type: string
    # Need some definitions around what ports are.
    ethernet_ports:
        type: array
        items:
            type: string
    coorindate_xyz:
        "$ref": "#/definitions/coordinate_xyz"
    coordinate_latlong:
        "$ref": "#/definitions/coordinate_latlong"
definitions:
    dot11_radio:
        type: object
        description: a dot11 radio object
        required:
            - id
            - band
            - channel
            - channel_width
            - transmit_power
        properties:
            id:
                type: integer
                description: radio id if one is known
            band:
                "$ref": "#/definitions/frequency_bands"
            channel:
                type: integer
                description: channel based on 802.11ac notation (center channel)
            channel_width:
                type:
                    - string
                description: >
                    channel width expressed as a number, except for
                    non-contiguous
                enum:
                    - "20"
                    - "40"
                    - "80"
                    - "160"
                    - "80+80"
                    - "320"
                    - "160+160"
            secondary_channel:
                type: integer
                description: Used for non-contiguous secondary channel
            transmit_power:
                type: integer
                description: conducted, per-chain power.
            transmit_eirp:
                type: number
                description: EIRP, requires antenna gain to calculate
    antenna:
        type: object
        required:
            - vendor
            - model
        properties:
            vendor:
                type: string
            model:
                type: string
            bands:
                type: array
                items:
                    type: object
                    properties:
                        band:
                            "$ref": "#/definitions/frequency_bands"
                        gain:
                            type: number
                            description: gain in dBi
    coordinate_xyz:
        type: object
        description: >
            A coordinate that references cartesian coordinates using
            x,y,z and/or a geospatial coordinate using lat/long
        required:
                - "x"
                - "y"
                - "unit"
        properties:
            x:
                type: number
                description: "coordinate in X dimension represented as a number"
                minimum: 0
            y:
                type: number
                description: "coordinate in Y dimension represented as a number"
                minimum: 0
            z:
                type: number
                description: >
                    coordinate in Z dimension as height from floor
                    represented as a number
            unit:
                type: string
                enum:
                    - feet
                    - pixels
                    - meters
    coordinate_latlong:
        type: object
        description: >
            A coordinate that references geospatial coordinates using
            using lat/long and altitude
        required:
            - latitude
            - longitude
        properties:
            latitude:
                type: number
                description: "Latitude expressed as ISO 6709 in degrees"
                minimum: -90
                maximum: 90
            longitude:
                type: number
                description: "Longitude expressed as ISO 6709 in degrees"
                minimum: -180
                maximum: 180
            # Altitude or elevation?  Preference?
            elevation:
                type: number
                description: "height in meters above sea level"
    frequency_bands:
        type: string
        description: bands that an antenna or radio operates in.
        enum:
            - FREQ_2.4GHZ
            - FREQ_5GHZ
            - FREQ_6GHZ
## TODO ##
## Look at modelling IDF/PatchPanel/Jack info CableType
##
