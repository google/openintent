---
$id: https://raw.githubusercontent.com/google/openintent/folder_structure_updates/release/draft/models/openintent-wifi.schema.json
description: Wi-fi presentation schema
title: Wifi
properties:
    access_point_version:
        description: Version of the openintent-wifi-accesspoint model
        type: string
    accesspoints:
        type: array
        description: An array of accesspoints
        items:
            $ref: "./wifi/openintent-wifi-accesspoint.schema.json"
    floorplans:
        type: array
        description: An array of floorplans
        items:
            $ref: "./building/openintent-building-floorplan.schema.json"
    floorplan_version:
        description: Version of the openintent-floorplan model
        type: string
definitions:
    dot11_radio:
        type: object
        description: a dot11 radio object
        required:
            - id
            - band
            - channel
            - channel_width
            - transmit_power
        properties:
            id:
                type: integer
                description: radio id if one is known
            band:
                "$ref": "openintent-wifi#/definitions/frequency_bands"
            channel:
                type: integer
                description: channel based on 802.11ac notation (center channel)
            channel_width:
                type:
                    - integer
                    - string
                description: >
                    channel width expressed as a number, except for
                    non-contiguous
                enum:
                    - 20
                    - 40
                    - 80
                    - 160
                    - "80+80"
                    - 320
                    - "160+160"
            secondary_channel:
                type: integer
                description: Used for non-contiguous secondary channel
            transmit_power:
                type: integer
                description: conducted, per-chain power.
            transmit_eirp:
                type: number
                description: EIRP, requires antenna gain to calculate
    antenna:
        type: object
        required:
            - vendor
            - model
        properties:
            vendor:
                type: string
            model:
                type: string
            bands:
                type: array
                items:
                    type: object
                    properties:
                        band:
                            "$ref": "openintent-wifi#/definitions/frequency_bands"
                        gain:
                            type: number
                            description: gain in dBi
    coordinate_xyz:
        type: object
        description: >
            A coordinate that references cartesian coordinates using
            x,y,z and/or a geospatial coordinate using lat/long
        required:
                - "x"
                - "y"
                - "unit"
        properties:
            x:
                type: number
                description: "coordinate in X dimension represented as a number"
                minimum: 0
            y:
                type: number
                description: "coordinate in Y dimension represented as a number"
                minimum: 0
            z:
                type: number
                description: >
                    coordinate in Z dimension as height from floor
                    represented as a number
            unit:
                type: string
                enum:
                    - feet
                    - pixels
                    - meters
    coordinate_latlong:
        type: object
        description: >
            A coordinate that references geospatial coordinates using
            using lat/long and altitude
        required:
            - latitude
            - longitude
        properties:
            latitude:
                type: number
                description: "Latitude expressed as ISO 6709 in degrees"
                minimum: -90
                maximum: 90
            longitude:
                type: number
                description: "Longitude expressed as ISO 6709 in degrees"
                minimum: -180
                maximum: 180
            # Altitude or elevation?  Preference?
            elevation:
                type: number
                description: "height in meters above sea level"
    frequency_bands:
        type: string
        description: bands that an antenna or radio operates in.
        enum:
            - FREQ_2.4GHZ
            - FREQ_5GHZ
            - FREQ_6GHZ
    dimension:
        type: object
        description: >
            dimension of a floorplan where the origin is located in
            the lower left corner, making all refences to location positive
            values
        required:
          - length
          - width
          - unit
        properties:
            length:
                type: number
                description: y-dimension of the floorplan
                minimum: 0
            width:
                type: number
                description: x-dimension of the floorplan
                minimum: 0
            height:
                type: number
                description: z-dimension of the floor (default height)
                minimum: 0
            unit:
                type: string
                description: the dimension unit for length, width, height.
                enum:
                    - pixels
                    - meters
                    - feet
    wall_segment:
        type: object
        description: >
            Represents a line segment of a wall on a floorplan.  Each segment
            requires a start, and end and a description for the wall type.
        required:
            - wall_type
            - start_point
            - end_point
        properties:
            wall_type:
                type: string
                description: Description of the wall type.
            thickness:
                type: number
                description: thickness in meters of the wall.
            height:
                type: number
                description: height of the wall in meters.
            start_point:
                $ref: "openintent-wifi#/definitions/wall_point"
                description: Starting point of the segement
            end_point:
                $ref: "openintent-wifi#/definitions/wall_point"
                description: Ending point of the segment
    wall_point:
        type: object
        required:
            - "x"
            - "y"
        description: Two-dimensional coordinate of a wall point
        properties:
            x:
                type: number
                description: x-coordinate of the point
            y:
                type: number
                description: y-coordinate of the point
    reference_marker:
        type: object
        description: >
            A reference marker to denote a location on the floorplan.
            Can be used to provide notes, or a translation between coordinate
            systems.
        properties:
        # Do we need an ID?  or does the reference text work for uniqueness?
            coordinate_xyz:
                "$ref": "openintent-wifi#/definitions/coordinate_xyz"
            coordinate_latlong:
                "$ref": "openintent-wifi#/definitions/coordinate_latlong"
            reference_text:
                type: string
                description: text string from reference
    accesspoint:
        required:
            - name
        type: object
        properties:
            name:
                type: string
                description: unique name of access point.
            floorplan_name:
                type: string
                description: name of floorplan to which this access-point belongs.
            asset_tag:
                type: string
                description: Assigned asset tag
            serial_number:
                type: string
                description: serial number of this access point.
            mac_address:
                type: string
                description: >
                    MAC Address of an accesspoint.  Should be described in the format:
                    01:23:45:67:89:0a where is is 2 characters seperated by colons and
                    letters are lower case.
            manufacturer:
                type: string
                description: the manufacturer name for this access point.
            model:
                type: string
                description: the model number of this particular access point
            sku:
                type: string
                description: sku part number for this specific access-point.
            dot11_radios:
                type: array
                minItems: 1
                items:
                    $ref: "openintent-wifi#/definitions/dot11_radio"
            ssids:
                type: array
                items:
                    type: string
            antennas:
                type: array
                items:
                    $ref: "openintent-wifi#/definitions/antenna"
            regulatory_domain:
                type: string
            # Need some definitions around what ports are.
            ethernet_ports:
                type: array
                items:
                    type: string
            coorindate_xyz:
                "$ref": "openintent-wifi#/definitions/coordinate_xyz"
            coordinate_latlong:
                "$ref": "openintent-wifi#/definitions/coordinate_latlong"
    floorplan:
        type: object
        required:
            - name
            - dimensions
        properties:
            name:
                type: string
                description: unique name of floorplan
            vendor_id:
                type: string
                description: vendor's ID for this floorplan
            map_url:
                type: string
                description: url endpoint of where to retrieve the map.
            project_name:
                type: string
                description: Name of the project/file
            floor_id:
                type: string
                description: string representation of the floor id.
            rotation:
                type: number
                description: rotation of the floorplan from native orientation
            dimensions:
                type: array
                description: dimensions of the floorplan
                minItems: 1
                items:
                    $ref: "#/definitions/dimension"
            wall_segments:
                type: array
                description: segments of wall on floorplan
                items:
                    $ref: "#/definitions/wall_segment"
                    minItems: 1
            reference_markers:
                type: array
                description: list of reference markers
                items:
                    $ref: "#/definitions/reference_marker"
